import React, { useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Toaster, toast } from 'react-hot-toast';\nimport { VoteIcon, Shield, Settings } from 'lucide-react';\nimport WalletConnection from './components/WalletConnection';\nimport VotingSection from './components/VotingSection';\nimport VoteResults from './components/VoteResults';\nimport NFTInfoCard from './components/NFTInfoCard';\nimport { useVoteStore } from './store/voteStore';\n\nfunction App() {\n  const { isVerified, hasVoted, error, nftVerificationStatus, nftData } = useVoteStore();\n\n  // ç’°å¢ƒå¤‰æ•°ã‹ã‚‰è¨­å®šã‚’å–å¾—\n  const targetPolicyId = import.meta.env.VITE_TARGET_POLICY_ID || 'demo_policy_id_12345';\n  const appTitle = import.meta.env.VITE_APP_TITLE || 'NFTä¿æœ‰è€…é™å®šæŠ•ç¥¨';\n  const appDescription = import.meta.env.VITE_APP_DESCRIPTION || 'Cardano NFTãƒ›ãƒ«ãƒ€ãƒ¼å‘ã‘æŠ•ç¥¨ã‚·ã‚¹ãƒ†ãƒ ';\n\n  // ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚Œã°ãƒˆãƒ¼ã‚¹ãƒˆã‚’è¡¨ç¤º\n  useEffect(() => {\n    if (error) {\n      toast.error(error);\n    }\n  }, [error]);\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-orange-50 via-yellow-50 to-red-50 flex flex-col\">\n      <Toaster position=\"top-center\" />\n      \n      <header className=\"py-6 px-4 text-center\">\n        <motion.div\n          initial={{ opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.5 }}\n          className=\"inline-flex items-center justify-center gap-3\"\n        >\n          <div className=\"text-3xl\">ğŸ¯</div>\n          <div>\n            <h1 className=\"text-2xl font-bold text-slate-900\">{appTitle}</h1>\n            <p className=\"text-sm text-slate-600 mt-1 flex items-center justify-center gap-2\">\n              <Shield className=\"h-4 w-4\" />\n              {appDescription}\n            </p>\n            \n            {/* NFTä¿æœ‰çŠ¶æ³ã®ç°¡æ˜“è¡¨ç¤º */}\n            {isVerified && (\n              <motion.div\n                initial={{ opacity: 0, scale: 0.9 }}\n                animate={{ opacity: 1, scale: 1 }}\n                className=\"mt-2\"\n              >\n                {nftVerificationStatus === 'verified' && nftData ? (\n                  <div className=\"inline-flex items-center gap-2 px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium\">\n                    <div className=\"w-2 h-2 bg-green-500 rounded-full\"></div>\n                    NFTä¿æœ‰ç¢ºèªæ¸ˆã¿ ({nftData.nftCount}å€‹)\n                  </div>\n                ) : nftVerificationStatus === 'failed' ? (\n                  <div className=\"inline-flex items-center gap-2 px-3 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium\">\n                    <div className=\"w-2 h-2 bg-red-500 rounded-full\"></div>\n                    NFTä¿æœ‰æœªç¢ºèª\n                  </div>\n                ) : nftVerificationStatus === 'pending' ? (\n                  <div className=\"inline-flex items-center gap-2 px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium\">\n                    <div className=\"w-2 h-2 bg-blue-500 rounded-full animate-pulse\"></div>\n                    NFTç¢ºèªä¸­...\n                  </div>\n                ) : null}\n              </motion.div>\n            )}\n          </div>\n          <div className=\"text-3xl\">ğŸ</div>\n        </motion.div>\n      </header>\n      \n      <main className=\"flex-1 container max-w-6xl mx-auto px-4 py-8\">\n        <div className=\"grid lg:grid-cols-3 gap-8\">\n          {/* å·¦å´: æŠ•ç¥¨ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */}\n          <div className=\"lg:col-span-2\">\n            <div className=\"grid md:grid-cols-2 gap-6\">\n              <div className=\"flex justify-center\">\n                <AnimatePresence mode=\"wait\">\n                  {!isVerified ? (\n                    <WalletConnection key=\"connection\" />\n                  ) : (\n                    <VotingSection key=\"voting\" />\n                  )}\n                </AnimatePresence>\n              </div>\n              \n              <div className=\"flex justify-center\">\n                <VoteResults />\n              </div>\n            </div>\n          </div>\n          \n          {/* å³å´: NFTæƒ…å ±ã¨ã‚µã‚¤ãƒ‰ãƒãƒ¼ */}\n          <div className=\"lg:col-span-1 space-y-6\">\n            {/* NFTæƒ…å ±ã‚«ãƒ¼ãƒ‰ */}\n            <motion.div\n              initial={{ opacity: 0, x: 20 }}\n              animate={{ opacity: 1, x: 0 }}\n              transition={{ delay: 0.3 }}\n            >\n              <NFTInfoCard \n                policyId={targetPolicyId}\n                apiEndpoint={nftData?.verificationMethod || 'Blockfrost/Koios API'}\n              />\n            </motion.div>\n            \n            {/* æŠ•ç¥¨çµ±è¨ˆ (å°†æ¥ã®æ‹¡å¼µç”¨) */}\n            <motion.div\n              initial={{ opacity: 0, x: 20 }}\n              animate={{ opacity: 1, x: 0 }}\n              transition={{ delay: 0.4 }}\n              className=\"bg-white border border-gray-200 rounded-xl p-4\"\n            >\n              <div className=\"flex items-center gap-2 mb-3\">\n                <VoteIcon className=\"h-5 w-5 text-blue-600\" />\n                <h3 className=\"text-lg font-semibold text-gray-900\">æŠ•ç¥¨çµ±è¨ˆ</h3>\n              </div>\n              \n              <div className=\"space-y-3 text-sm text-gray-600\">\n                <div className=\"flex justify-between\">\n                  <span>NFTæ¤œè¨¼æ–¹æ³•:</span>\n                  <span className=\"font-medium\">\n                    {nftData?.verificationMethod === 'blockfrost' && 'Blockfrost API'}\n                    {nftData?.verificationMethod === 'koios' && 'Koios API'}\n                    {nftData?.verificationMethod === 'nmkr' && 'NMKR API'}\n                    {!nftData?.verificationMethod && 'æœªç¢ºèª'}\n                  </span>\n                </div>\n                \n                <div className=\"flex justify-between\">\n                  <span>æŠ•ç¥¨æ–¹å¼:</span>\n                  <span className=\"font-medium\">NFTä¿æœ‰è€…é™å®š</span>\n                </div>\n                \n                <div className=\"flex justify-between\">\n                  <span>é‡è¤‡æŠ•ç¥¨:</span>\n                  <span className=\"font-medium text-green-600\">é˜²æ­¢æ¸ˆã¿</span>\n                </div>\n                \n                <div className=\"pt-2 border-t\">\n                  <div className=\"flex items-center gap-2 text-xs text-gray-500\">\n                    <Settings className=\"h-3 w-3\" />\n                    <span>ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³èªè¨¼ã«ã‚ˆã‚‹å®‰å…¨ãªæŠ•ç¥¨</span>\n                  </div>\n                </div>\n              </div>\n            </motion.div>\n            \n            {/* ãƒ‡ãƒ¢æƒ…å ± (é–‹ç™ºç’°å¢ƒã®ã¿) */}\n            {(import.meta.env.DEV || import.meta.env.VITE_ENABLE_DEMO === 'true') && (\n              <motion.div\n                initial={{ opacity: 0, x: 20 }}\n                animate={{ opacity: 1, x: 0 }}\n                transition={{ delay: 0.5 }}\n                className=\"bg-yellow-50 border border-yellow-200 rounded-xl p-4\"\n              >\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <div className=\"text-yellow-600\">âš ï¸</div>\n                  <h3 className=\"text-sm font-semibold text-yellow-900\">é–‹ç™ºãƒ¢ãƒ¼ãƒ‰</h3>\n                </div>\n                \n                <div className=\"text-xs text-yellow-700 space-y-1\">\n                  <p>â€¢ ãƒ‡ãƒ¢ã‚¦ã‚©ãƒ¬ãƒƒãƒˆã§NFTä¿æœ‰ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ</p>\n                  <p>â€¢ ã‚¢ãƒ‰ãƒ¬ã‚¹ã« \"demo\" ã¾ãŸã¯ \"test\" ãŒå«ã¾ã‚Œã‚‹å ´åˆã€NFTä¿æœ‰ã¨ã¿ãªã•ã‚Œã¾ã™</p>\n                  <p>â€¢ æœ¬ç•ªç’°å¢ƒã§ã¯å®Ÿéš›ã®NFTä¿æœ‰ç¢ºèªãŒè¡Œã‚ã‚Œã¾ã™</p>\n                </div>\n              </motion.div>\n            )}\n          </div>\n        </div>\n      </main>\n      \n      <footer className=\"py-6 px-4 text-center text-slate-500 text-sm\">\n        <div className=\"flex items-center justify-center gap-2 mb-2\">\n          <span>ğŸ¯</span>\n          <p>NFTä¿æœ‰è€…é™å®šæŠ•ç¥¨ã‚·ã‚¹ãƒ†ãƒ  &copy; {new Date().getFullYear()}</p>\n          <span>ğŸ›¡ï¸</span>\n        </div>\n        <div className=\"flex items-center justify-center gap-4 text-xs\">\n          <span>Powered by Cardano</span>\n          <span>â€¢</span>\n          <span>Blockfrost API</span>\n          <span>â€¢</span>\n          <span>NMKRå¯¾å¿œ</span>\n        </div>\n      </footer>\n    </div>\n  );\n}\n\nexport default App;"