# touhyou

ウォレット認証投票システム - Cardanoブロックチェーンを使った分散型投票アプリケーション

## 🚀 主な機能

- 🔐 **革新的なウォレット認証システム**
  - **ワンタップ接続**: ディープリンクでアプリ直接起動
  - **QRコード連携**: コピペ不要の簡単接続
  - ブラウザ拡張機能による自動接続
  - 手動でのアドレス入力
- 📊 リアルタイム投票・結果表示
- 🎨 モダンUI（React + TypeScript + TailwindCSS）
- 🔄 重複投票防止システム
- 📱 **完全モバイル最適化設計**

## 🛠️ 技術スタック

- **フロントエンド**: React 18, TypeScript, Vite
- **ウォレット連携**: MeshSDK (Cardano) + カスタムディープリンク
- **QRコード**: React QR Code
- **データベース**: Supabase
- **スタイリング**: TailwindCSS, Framer Motion
- **状態管理**: Zustand

## 💼 ウォレット接続方法

### 🚀 **革新的なアプリ連携（推奨）**

**ワンタップでウォレットアプリに直接接続！**

#### 📱 ディープリンク接続
1. 「アプリ連携」タブを選択
2. お使いのウォレット名をタップ
3. アプリが自動で開いて接続完了

#### 📷 QRコード接続
1. 「QR」ボタンをタップ
2. ウォレットアプリでQRコードをスキャン
3. 自動でアドレス取得して接続完了

**対応アプリ:**
- [Yoroi Wallet](https://yoroi-wallet.com/) - iOS/Android
- [Nami Mobile](https://namiwallet.io/) - モバイルブラウザ
- [Eternl Mobile](https://eternl.io/) - iOS/Android
- [Tokeo Mobile](https://tokeo.io/) - モバイル対応

### 🖥️ **PCでの利用（ブラウザ拡張機能）**

以下のブラウザ拡張機能をインストールして自動接続：

- [Nami](https://namiwallet.io/)
- [Flint](https://flint-wallet.com/)
- [Eternl](https://eternl.io/)
- [Tokeo](https://tokeo.io/)

### ✍️ **手動アドレス入力（従来方式）**

アプリ連携が利用できない場合の手順：

1. ウォレットアプリを開く
2. 受信アドレス（Receiving Address）をコピー
3. 投票アプリの「手動入力」タブに貼り付け
4. 「アドレスで接続」をクリック

## 🎯 プロジェクトの目的

このアプリケーションは以下の目的で開発されています：

- **アドレス収集**: 投票参加者のCardanoアドレスを収集
- **NFT配布**: 投票参加者にNFTを配布予定
- **ユーザー体験**: 最先端のモバイル連携で快適な投票体験
- **アクセシビリティ**: 誰でも簡単にアクセス可能

## 📋 必要な環境

- Node.js 18+ 
- npm または yarn
- Supabaseアカウント
- Cardanoウォレット（アプリまたは拡張機能）

## ⚡ セットアップ手順

### 1. リポジトリのクローン

```bash
git clone https://github.com/crackerky/touhyou.git
cd touhyou
```

### 2. 依存関係のインストール

```bash
npm install
# または
yarn install
```

### 3. 環境変数の設定

`.env.example`をコピーして`.env`ファイルを作成し、必要な値を設定してください：

```bash
cp .env.example .env
```

必要な環境変数：
```
VITE_SUPABASE_URL=your_supabase_url
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key
```

### 4. 開発サーバーの起動

```bash
npm run dev
# または
yarn dev
```

## 🌐 デプロイ

本プロジェクトはNetlifyでのデプロイに最適化されています。

1. GitHubリポジトリをNetlifyに接続
2. ビルドコマンド: `npm run build`
3. 公開ディレクトリ: `dist`
4. 環境変数を設定

## 📝 使用方法

### 🚀 **スマホユーザー（推奨）**
1. **アプリ連携タブ**を選択
2. お使いのウォレットをタップしてアプリ起動
3. または「QR」ボタンでQRコード接続
4. 自動でアドレス取得して投票参加

### 🖥️ **PCユーザー**
1. 対応ウォレット拡張機能をインストール
2. 「拡張機能」タブでウォレットを接続
3. 投票に参加

### ✍️ **手動入力ユーザー**
1. 「手動入力」タブを選択
2. ウォレットアドレスを入力
3. 投票に参加

## 🔧 技術的特徴

### ディープリンク連携
- カスタムURLスキーム（yoroi://、nami://など）
- アプリ自動起動とフォールバック機能
- リダイレクト後のアドレス自動取得

### QRコード機能
- 動的な接続リクエスト生成
- ウォレットアプリでのスキャン対応
- データ暗号化とセキュリティ

### モバイル最適化
- デバイス自動検出
- タッチフレンドリーUI
- レスポンシブデザイン

## 🔒 セキュリティについて

- アドレス入力のみで投票可能（秘密鍵は不要）
- ディープリンクデータの暗号化
- 基本的なCardanoアドレス形式の検証
- 重複投票防止システム
- ローカルストレージでの設定保存

## 🤝 コントリビューション

プルリクエストやイシューの作成を歓迎します！

## 📄 ライセンス

MIT License

## 📞 サポート

- [GitHub Issues](https://github.com/crackerky/touhyou/issues)
- Cardanoアドレス形式: `addr1...` で始まるBech32形式を推奨

## 🚀 新機能ハイライト

### 🎉 **ワンタップ接続**
- アプリに直接飛んで接続
- コピペ一切不要
- 2秒で投票開始

### 📱 **完全モバイル対応**
- ディープリンク自動起動
- QRコードスキャン連携
- ストアへの自動フォールバック

これで、**世界最高水準のモバイルウォレット連携**を実現！ 🌟